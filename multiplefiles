
  
#include <iostream>
#include <fstream>
#include <string>
#include <sstream> 
#include <vector>


using std::vector;
using namespace std;
int mainMenu(vector<string>& fileNames);

int main (){
	
	char option=0;
	bool isStringValid=0;
	string inputString= " ";
	string outputString= " ";
	vector<string> fileNames;
	
	
	cout << "DNA Sequence Database Software\n" << endl; 
	cout << "Specify the name of DNA sequence file names you would like to load. "; 
	cout << "For multiple files, add a <<,>> between each file name. \n " << endl;
	cout << ">";
	cin >> inputString;
	ifstream fileIn;
	ofstream fileOut;
	
	stringstream sin(inputString);

	
	while (sin.good()) {
		cout << "Everything is good: " << sin.good() << endl;
		getline (sin, outputString, ',');
		ifstream fileIn (outputString);
		if (fileIn)
			fileNames.push_back(outputString);
		else 
			cout << "Can't open input file " << outputString << endl;
		
	}

	
	
	int a=fileNames.size();
	cout<<"The number of elements in the string is: " <<a<<endl;
	
	option = mainMenu(fileNames);
	cout << "the option is "<< option <<endl;
	
	while (option!='Q') {
		if (option == 'S') {
			cout<< "The DNA Sequence Database holds " << a << " sequences." << endl;
			auto itbegin = fileNames.begin();
			auto itend = fileNames.end();
			for (int i = 0; i++; i < fileNames.size()) { 
				cout<< "Sequence "<< i << " :\n" << endl;
				for (auto it = itbegin; it < itend; ++it) {
					if (*it=="chr1.fa") {
					cout << "Name " << i << " :\t" << "Homo sapiens chromosome 1, alternate assembly CHM1_1.1, whole genome shotgun sequence"<<endl;
					cout << "GID:\t528476670" << endl;
					cout << "REF:\tNC_018912.2" << endl;
					cout << "# base pairs:\t250522664" << endl;
					}
					else if (*it=="chr16.fa"){ 
					cout<< "Name " << i << " :\t" << "Homo sapiens chromosome 1, alternate assembly CHM1_1.1, whole genome shotgun sequence"<<endl;
					cout << "GID:\t528476567" << endl;
					cout << "REF:\tNC_018927.2" << endl;
					cout << "# base pairs:\t91765909" << endl;
					}
					else if (*it=="gnFOXF1.fa"){
					cout<< "Name " << i << " :\t" << "Genome FOX F1"<<endl;
					}
				}
			}
		}
			
		
		else if (option == 1) {
			cout << "option 1" << endl;
		}
		else if (option == 2) {
			cout << "option 2" << endl;
			}
		else if (option == 3) {
			cout << "option 3" << endl;
			}
		option=0;
	} 
	
	cout << "option quit"<< endl;
return 0;
}

int mainMenu(vector<string>& fileNames) {
	char selection = 0;
	auto itbeg = fileNames.begin();
	auto iten = fileNames.end();
	
	cout << "Select one of the following options" << endl;
	cout << "(S) Summary statistics of the DNA database" << endl;
	for (auto it = itbeg; it < iten; ++it) {
		cout << "(1) Analyse " << *it << endl;
	}
	cout << "(Q) Quit" << endl;
	
	if ((selection < 1) || (selection > 6) || ((selection!=53) && (selection!=81)))
		{	char originalSelection;
			cout << ">";
			cin >> originalSelection;
			selection=toupper(originalSelection);
		}
		cout << endl;
	
	return selection;
}

